intersection: simple4
traffic:
  vehicle_types:
    - id: car
      accel: 2.6
      decel: 5.0
      sigma: 0.4
      length: 4.8
      maxSpeed: 16.7
      color: "1,0,0"
      minGap: 1.2
      tau: 0.8
      speedFactor: 1.1
      speedDev: 0.1

    - id: bus
      accel: 1.2
      decel: 4.0
      sigma: 0.6
      length: 12
      maxSpeed: 11.1
      color: "0,0,1"
      minGap: 2.5
      tau: 1.2
      speedFactor: 0.9
      speedDev: 0.05

    - id: truck
      accel: 1.0
      decel: 3.5
      sigma: 0.7
      length: 15
      maxSpeed: 10.5
      color: "0.8,0.8,0.0"
      minGap: 3
      tau: 1.5
      speedFactor: 0.85
      speedDev: 0.1

  routes:
    - id: north_south
      edges: [eN, eS_out]
    - id: south_north
      edges: [eS, eN_out]
    - id: west_east
      edges: [eW, eE_out]
    - id: east_west
      edges: [eE, eW_out]

  flows:
    # üî• Morning rush (0‚Äì1800s): near gridlock
    - route: north_south
      type: car
      begin: 0
      end: 1800
      vehsPerHour: 1200
    - route: south_north
      type: car
      begin: 0
      end: 1800
      vehsPerHour: 1200
    - route: east_west
      type: car
      begin: 0
      end: 1800
      vehsPerHour: 1100
    - route: west_east
      type: car
      begin: 0
      end: 1800
      vehsPerHour: 1100

    # Mix in buses and trucks during peak
    - route: north_south
      type: bus
      begin: 600
      end: 1800
      vehsPerHour: 80
    - route: south_north
      type: truck
      begin: 900
      end: 1800
      vehsPerHour: 60
    - route: west_east
      type: bus
      begin: 600
      end: 1800
      vehsPerHour: 70
    - route: east_west
      type: truck
      begin: 900
      end: 1800
      vehsPerHour: 50

    # üòÆ‚Äçüí® Post-rush hour (1800‚Äì3600s): steady, calmer flow
    - route: north_south
      type: car
      begin: 1800
      end: 3600
      vehsPerHour: 300
    - route: south_north
      type: car
      begin: 1800
      end: 3600
      vehsPerHour: 300
    - route: east_west
      type: car
      begin: 1800
      end: 3600
      vehsPerHour: 250
    - route: west_east
      type: car
      begin: 1800
      end: 3600
      vehsPerHour: 250
    - route: north_south
      type: bus
      begin: 1800
      end: 3600
      vehsPerHour: 30
    - route: east_west
      type: truck
      begin: 1800
      end: 3600
      vehsPerHour: 20

traffic_lights:
  programs:
    - id: n0
      program_id: rush_hour
      offset: 0
      type: static
      phases:
        # NS green ‚Äî longer, to handle backed-up traffic
        - duration: 35
          state: "GGGGrrrrGGGGrrrr"
        - duration: 3
          state: "yyyyrrrryyyyrrrr"
        # EW green
        - duration: 35
          state: "rrrrGGGGrrrrGGGG"
        - duration: 3
          state: "rrrryyyyrrrryyyy"
